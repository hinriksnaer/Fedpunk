#!/usr/bin/env fish
# Refresh/reapply the current theme (useful after config changes)
# Usage: fedpunk-theme-refresh

set hyprland_conf "$HOME/.config/hypr/hyprland.conf"

# Extract current theme from hyprland.conf
set current_line (grep "source.*themes.*hyprland.conf" $hyprland_conf 2>/dev/null)

if test -n "$current_line"
    set theme_name (echo $current_line | sed 's|.*themes/\([^/]*\)/.*|\1|')
    echo "Refreshing theme: $theme_name"
    fedpunk-theme-set $theme_name
else
    echo "Error: No theme currently set"
    exit 1
end
