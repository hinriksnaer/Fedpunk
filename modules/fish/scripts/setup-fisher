#!/usr/bin/env fish
# Fisher plugin manager setup

# Install Fisher plugin manager
if not test -f ~/.config/fish/functions/fisher.fish
    echo "[fish/fisher] Installing Fisher plugin manager..."
    set fisher_tmp (mktemp)
    curl -fsSL https://raw.githubusercontent.com/jorgebucaran/fisher/main/functions/fisher.fish -o "$fisher_tmp"
    source "$fisher_tmp"
    fisher install jorgebucaran/fisher
    rm -f "$fisher_tmp"
    echo "[fish/fisher] ✓ Fisher installed"
else
    echo "[fish/fisher] ✓ Fisher already installed"
end

# Install fzf.fish plugin
if not fisher list 2>/dev/null | grep -q "fzf.fish"
    echo "[fish/fisher] Installing fzf.fish plugin..."
    fisher install PatrickF1/fzf.fish
    echo "[fish/fisher] ✓ fzf.fish installed"
else
    echo "[fish/fisher] ✓ fzf.fish already installed"
end

echo "[fish/fisher] Setup complete"
