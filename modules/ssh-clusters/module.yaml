module:
  name: ssh-clusters
  description: Internal SSH cluster configuration management - reads clusters from ~/.ssh/config.d/hosts and configures usernames
  dependencies:
    - ssh
  priority: 5

parameters:
  # Username input mode: current|prompt_all|prompt_individual
  username_mode:
    type: string
    description: "How to determine usernames for SSH cluster access"
    options:
      - current
      - prompt_all
      - prompt_individual

  # Username for all clusters (used when mode is 'declarative' or 'prompt_all')
  username:
    type: string
    description: "Username for SSH connections to all clusters"
    required: false

lifecycle:
  before: []
  after:
    - generate-hosts

packages:
  dnf: []
  cargo: []
  npm: []

stow:
  target: $HOME
  conflicts: warn
