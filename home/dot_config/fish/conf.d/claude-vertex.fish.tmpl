{{- if and .install.claude (hasKey . "claude") (eq .claude.auth_method "vertex") -}}
# Google Vertex AI Configuration for Claude Code
# Auto-generated by Fedpunk

set -gx CLAUDE_CODE_USE_VERTEX 1
set -gx CLOUD_ML_REGION {{ .claude.vertex_region | quote }}
set -gx ANTHROPIC_VERTEX_PROJECT_ID {{ .claude.vertex_project_id | quote }}

# Optional: Uncomment if using service account key file
{{- if hasKey .claude "vertex_key_file" }}
{{-   if ne .claude.vertex_key_file "" }}
set -gx GOOGLE_APPLICATION_CREDENTIALS {{ .claude.vertex_key_file | quote }}
{{-   end }}
{{- end }}
{{- end }}
