#!/usr/bin/env fish
# Install Hyprland Wayland compositor and dependencies

# Skip if not enabled in mode
if not set -q FEDPUNK_INSTALL_HYPRLAND; or test "$FEDPUNK_INSTALL_HYPRLAND" != "true"
    exit 0
end

# Initialize FEDPUNK_PATH if not set
if not set -q FEDPUNK_PATH
    set -gx FEDPUNK_PATH "{{ .chezmoi.sourceDir }}"
end
source "$FEDPUNK_PATH/home/core/lib/helpers.fish"

section "Hyprland Installation"

subsection "Installing Hyprland and dependencies"

# Install Hyprland and core dependencies
install_packages hyprland hyprpaper waybar rofi-wayland mako grim slurp wl-clipboard xdg-desktop-portal-hyprland

# Install additional utilities
install_packages polkit-gnome wl-gammactl wlsunset brightnessctl playerctl

echo ""
box "Hyprland Installed!

Hyprland compositor and all dependencies are ready.

Launch with: Hyprland

ðŸ’¡ Configuration: ~/.config/hypr/" $GUM_SUCCESS
