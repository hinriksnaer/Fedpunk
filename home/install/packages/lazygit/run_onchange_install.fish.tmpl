{{- if .install.lazygit -}}
#!/usr/bin/env fish
# Component: Lazygit
# Description: Install lazygit Git TUI
# Mode: {{ .mode.name }}

if not set -q FEDPUNK_INSTALL_LAZYGIT; or test "$FEDPUNK_INSTALL_LAZYGIT" != "true"
    exit 0
end

if not set -q FEDPUNK_PATH
    set -gx FEDPUNK_PATH "{{ .chezmoi.sourceDir }}"
end
source "{{ .chezmoi.workingTree }}/home/install/lib/helpers.fish"

section "Lazygit Installation"

if command -v lazygit >/dev/null 2>&1
    success "Lazygit already installed"
else
    step "Enabling lazygit COPR" "sudo dnf copr enable -qy atim/lazygit"
    step "Installing lazygit" "sudo dnf install -qy lazygit"
end

box "Lazygit Installation Complete!" $GUM_SUCCESS
{{- end }}
