{{- if and .install.extra_apps (ne .mode.name "container") }}
#!/usr/bin/env fish
# Install extra applications (Discord, Spotify, etc.)


source "$FEDPUNK_HELPERS"

section "Extra Applications Installation"

subsection "Installing extra apps via Flatpak"

# Discord
if not flatpak list --app 2>/dev/null | grep -q "com.discordapp.Discord"
    step "Installing Discord" "flatpak install -y flathub com.discordapp.Discord"
else
    success "Discord already installed"
end

# Spotify
if not flatpak list --app 2>/dev/null | grep -q "com.spotify.Client"
    step "Installing Spotify" "flatpak install -y flathub com.spotify.Client"
else
    success "Spotify already installed"
end

echo ""
box "Extra Apps Installed!

✓ Discord
✓ Spotify

Launch from your application menu." $GUM_SUCCESS
{{- end }}
